3:I[9275,[],""]
6:I[1343,[],""]
7:I[231,["231","static/chunks/231-d28521b9a1ca2868.js","252","static/chunks/app/(route)/archive/%5Bcategory%5D/page-fa11e7c7fe551c79.js"],""]
c:I[9802,["231","static/chunks/231-d28521b9a1ca2868.js","185","static/chunks/app/layout-de37478d6c951468.js"],"default"]
4:["category","optee","d"]
5:["slug","optee_rpi3_image","d"]
8:{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"}
9:{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"}
a:{"display":"inline-block"}
b:{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0}
0:["W4nAHO-ETXkgQ6DUYNJSL",[[["",{"children":["(route)",{"children":["archive",{"children":[["category","optee","d"],{"children":[["slug","optee_rpi3_image","d"],{"children":["__PAGE__?{\"category\":\"optee\",\"slug\":\"optee_rpi3_image\"}",{}]}]}]}]}]},"$undefined","$undefined",true],["",{"children":["(route)",{"children":["archive",{"children":[["category","optee","d"],{"children":[["slug","optee_rpi3_image","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(route)","children","archive","children","$4","children","$5","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/ef46db3751d8e999.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(route)","children","archive","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","div",null,{"className":"sublayout_layout__AH4re","children":[["$","div",null,{"className":"sublayout_sidebar__lw1oC","children":["$","aside",null,{"className":"sidebar_sidebar__A9Lnm","children":[["$","div","Programming",{"className":"sidebar_sidebarSection__PxRiE","children":[["$","h3",null,{"className":"sidebar_sidebarTitle__0wfLW","children":"Programming"}],["$","ul",null,{"className":"sidebar_sidebarList__fMWCO","children":[["$","li","cpp",{"className":"sidebar_sidebarItem__2RyXS","children":["$","$L7",null,{"href":"/archive/cpp","children":"C/C++"}]}],["$","li","stl",{"className":"sidebar_sidebarItem__2RyXS","children":["$","$L7",null,{"href":"/archive/stl","children":"STL"}]}],["$","li","algorithm",{"className":"sidebar_sidebarItem__2RyXS","children":["$","$L7",null,{"href":"/archive/algorithm","children":"Algorithm"}]}]]}]]}],["$","div","Security",{"className":"sidebar_sidebarSection__PxRiE","children":[["$","h3",null,{"className":"sidebar_sidebarTitle__0wfLW","children":"Security"}],["$","ul",null,{"className":"sidebar_sidebarList__fMWCO","children":[["$","li","crypto",{"className":"sidebar_sidebarItem__2RyXS","children":["$","$L7",null,{"href":"/archive/crypto","children":"Cryptography"}]}],["$","li","optee",{"className":"sidebar_sidebarItem__2RyXS","children":["$","$L7",null,{"href":"/archive/optee","children":"OP-TEE"}]}]]}]]}],["$","div","Tools & Env",{"className":"sidebar_sidebarSection__PxRiE","children":[["$","h3",null,{"className":"sidebar_sidebarTitle__0wfLW","children":"Tools & Env"}],["$","ul",null,{"className":"sidebar_sidebarList__fMWCO","children":[["$","li","git",{"className":"sidebar_sidebarItem__2RyXS","children":["$","$L7",null,{"href":"/archive/git","children":"Git"}]}],["$","li","docker",{"className":"sidebar_sidebarItem__2RyXS","children":["$","$L7",null,{"href":"/archive/docker","children":"Docker"}]}],["$","li","build",{"className":"sidebar_sidebarItem__2RyXS","children":["$","$L7",null,{"href":"/archive/build","children":"Build"}]}],["$","li","etc",{"className":"sidebar_sidebarItem__2RyXS","children":["$","$L7",null,{"href":"/archive/etc","children":"ETC"}]}]]}]]}]]}]}],["$","div",null,{"className":"sublayout_content__LeFXo","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(route)","children","archive","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]}]]}],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(route)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/8b64ed14234c99bc.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},[["$","html",null,{"lang":"en","children":["$","body",null,{"className":"__className_e8ce0c","children":[["$","header",null,{"className":"header_global__GSqlr","children":[["$","$L7",null,{"href":"/","className":"header_page_name__AH74f","children":"Goomba"}],["$","nav",null,{"className":"header_nav__TS4hp","children":["$","ul",null,{"className":"header_list__4_ozN","children":[["$","li",null,{"className":"header_list_item__xbgaq","children":["$","$L7",null,{"href":"/","className":"header_nav_link__q0iPN","children":"Profile"}]}],["$","li",null,{"className":"header_list_item__xbgaq","children":["$","$L7",null,{"href":"/archive","className":"header_nav_link__q0iPN","children":"Archive"}]}]]}]}]]}],["$","main",null,{"className":"layout_main__Z_K3S","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":"$8","children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":"$9","children":"404"}],["$","div",null,{"style":"$a","children":["$","h2",null,{"style":"$b","children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}],["$","footer",null,{"className":"footer_global__eUE2U","children":["$","p",null,{"className":"footer_copyright__Uzpxs","children":["© ",["$","span",null,{}]," Goomba's github blog. All Rights Reserved."]}]}],["$","$Lc",null,{}]]}]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/5d8755902ee10f72.css","precedence":"next","crossOrigin":"$undefined"}]],"$Ld"]]]]
2:["$","article",null,{"className":"postPage_container__Bch1t","children":[["$","h1",null,{"className":"postPage_title__tBgth","children":"OPTEE Image for RPI 3"}],["$","div",null,{"className":"postPage_meta__Yk8Cm","children":[["$","time",null,{"children":"6/8/2025"}],["$","ul",null,{"className":"$undefined","children":[["$","li","optee",{"children":"optee"}]]}]]}],["$","div",null,{"className":"postPage_contents__3OW6N","children":[["$","p",null,{"children":"Raspberry Pi 3를 위한 OPTEE 이미지를 빌드하는 과정을 작성했습니다."}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"저는 개인적으로 Docker를 사용하는 것을 선호합니다."}],"\n"]}],"\n",["$","h2",null,{"children":"Install Packages"}],"\n",["$","p",null,{"children":["OPTEE 이미지를 빌드하기 위한 패키지를 설치해야 합니다.",["$","br",null,{}],"\n","OPTEE 사이트에서 필요한 패키지를 참조하여 설치합니다."]}],"\n",["$","p",null,{"children":["$","a",null,{"href":"https://optee.readthedocs.io/en/latest/building/prerequisites.html","children":"OPTEE Document - Prerequisites"}]}],"\n",["$","h2",null,{"children":"Download Source Code"}],"\n",["$","p",null,{"children":"OPTEE Manifest를 사용하여 필요한 파일들을 다운로드 합니다."}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["이 시점에서 최신은 ",["$","code",null,{"children":"4.6.0"}],"이지만 최신 버전이 있을 수 있습니다."]}],"\n"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ mkdir -p rpi3-optee\n$ cd rpi3-optee\n$ repo init -u https://github.com/OP-TEE/manifest.git -m rpi3.xml -b 4.6.0\n$ repo sync -j$(nproc) --no-clone-bundle\n"}]}],"\n",["$","h2",null,{"children":"Build Toolchains"}],"\n",["$","p",null,{"children":"Toolchain을 빌드합니다."}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ cd rpi3-optee/build\n$ make -j$(nproc) toolchains\n"}]}],"\n",["$","h2",null,{"children":"Build Image"}],"\n",["$","p",null,{"children":"이미지를 빌드하기 전에 설정해 줄 것들이 몇 가지 존재합니다."}],"\n",["$","h3",null,{"children":"UART disable 설정"}],"\n",["$","p",null,{"children":["RPI3는 BT가 Enable 상태이면 UART 로그가 나오지 얂는다고 합니다.",["$","br",null,{}],"\n","따라서 ",["$","code",null,{"children":"build/rpi3/firmware/config.txt"}]," 파일에 아래의 내용을 추가합니다."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-txt","children":"dtoverlay=pi3-disable-bt\n"}]}],"\n",["$","h3",null,{"children":"check-bin-arch 수정"}],"\n",["$","p",null,{"children":["Binary architecture check 과정 중 ",["$","code",null,{"children":"bootcode.bin"}],", ",["$","code",null,{"children":"start.elf"}]," 등",["$","br",null,{}],"\n","Broadcom release binary에 대해 64bit 용도가 아니라는 에러가 발생할 수 있습니다."]}],"\n",["$","p",null,{"children":["부팅 시 32bit 용도로 부팅하고 Trusted firmware와 Uboot가 올라가면서",["$","br",null,{}],"\n","64bit 용도로 변경해주기 때문에 해당 과정은 불필요하다고 합니다."]}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"buildroot/support/scripts/check-bin-arch"}],"의 ",["$","code",null,{"children":"exitcode=1"}]," 문구를 주석으로 수정합니다."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"# Architecture is correct\n    if test \"${arch}\" = \"${arch_name}\" ; then\n        continue\n    fi  \n\n    printf 'ERROR: architecture for \"%s\" is \"%s\", should be \"%s\"\\n' \\\n           \"${f}\" \"${arch}\" \"${arch_name}\"\n    continue\n#exitcode=1  <= 여기\ndone < <( sed -r -e \"/^${package},\\.(.+)$/!d; s//\\1/;\" ${pkg_list} )\n"}]}],"\n",["$","h3",null,{"children":"Run make"}],"\n",["$","p",null,{"children":"위의 설정을 완료한 후에 빌드합니다."}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ cd rpi3-optee/build\n$ make -j4\n"}]}],"\n",["$","h2",null,{"children":"Flash the device"}],"\n",["$","p",null,{"children":"생성된 RPI3용 OPTEE 이미지를 플래시합니다."}],"\n",["$","p",null,{"children":["SD 카드에 플래시하는 방법은 ",["$","code",null,{"children":"make img-help"}]," 명령으로 알 수 있습니다."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"$$ make img-help\n\nUse 'dmesg' to find your device/SD-card name, then run the following as root:\n   $ sudo dd if=/home/hsseo/Drive_D/rpi3-optee/build/../out/rpi3-sdcard.img of=/dev/<name-of-my-sd-card> bs=1024k conv=fsync status=progress\n"}]}]]}]]}]
d:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Goomba's Pages"}],["$","meta","3",{"name":"description","content":"Goomba's Github pages, using NextJS"}],["$","link","4",{"rel":"icon","href":"/favicon.ico"}],["$","meta","5",{"name":"next-size-adjust"}]]
1:null
