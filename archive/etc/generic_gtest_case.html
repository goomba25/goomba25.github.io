<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/8954693455eacdc6.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/8b64ed14234c99bc.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ef46db3751d8e999.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-c4387b2db76461d4.js"/><script src="/_next/static/chunks/fd9d1056-3eee857bde8f3b06.js" async=""></script><script src="/_next/static/chunks/117-7173e55a1bfa1130.js" async=""></script><script src="/_next/static/chunks/main-app-de3fbfef54ee774b.js" async=""></script><script src="/_next/static/chunks/972-131d28f88c979dc2.js" async=""></script><script src="/_next/static/chunks/app/(route)/archive/%5Bcategory%5D/page-3f3963f26c19df09.js" async=""></script><script src="/_next/static/chunks/app/layout-508d68cd58c3e92a.js" async=""></script><title>Goomba&#x27;s Pages</title><meta name="description" content="Goomba&#x27;s Github pages, using NextJS"/><link rel="icon" href="/favicon.ico"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_f367f3"><header class="header_global__GSqlr"><a class="header_page_name__AH74f" href="/">Goomba</a><nav class="header_nav__TS4hp"><ul class="header_list__4_ozN"><li class="header_list_item__xbgaq"><a class="header_nav_link__q0iPN" href="/">Profile</a></li><li class="header_list_item__xbgaq"><a class="header_nav_link__q0iPN" href="/archive">Archive</a></li></ul></nav></header><main class="layout_main__Z_K3S"><div class="sublayout_layout__AH4re"><div class="sublayout_sidebar__lw1oC"><aside class="sidebar_sidebar__A9Lnm"><div class="sidebar_sidebarSection__PxRiE"><h3 class="sidebar_sidebarTitle__0wfLW">Programming</h3><ul class="sidebar_sidebarList__fMWCO"><li class="sidebar_sidebarItem__2RyXS"><a href="/archive/cpp">C/C++</a></li><li class="sidebar_sidebarItem__2RyXS"><a href="/archive/stl">STL</a></li><li class="sidebar_sidebarItem__2RyXS"><a href="/archive/algorithm">Algorithm</a></li></ul></div><div class="sidebar_sidebarSection__PxRiE"><h3 class="sidebar_sidebarTitle__0wfLW">Security</h3><ul class="sidebar_sidebarList__fMWCO"><li class="sidebar_sidebarItem__2RyXS"><a href="/archive/crypto">Cryptography</a></li><li class="sidebar_sidebarItem__2RyXS"><a href="/archive/optee">OP-TEE</a></li></ul></div><div class="sidebar_sidebarSection__PxRiE"><h3 class="sidebar_sidebarTitle__0wfLW">Tools &amp; Env</h3><ul class="sidebar_sidebarList__fMWCO"><li class="sidebar_sidebarItem__2RyXS"><a href="/archive/git">Git</a></li><li class="sidebar_sidebarItem__2RyXS"><a href="/archive/docker">Docker</a></li><li class="sidebar_sidebarItem__2RyXS"><a href="/archive/build">Build</a></li><li class="sidebar_sidebarItem__2RyXS"><a href="/archive/etc">ETC</a></li></ul></div></aside></div><div class="sublayout_content__LeFXo"><article class="postPage_container__Bch1t"><h1 class="postPage_title__tBgth">[GTest] 일반적인 TEST 방법</h1><div class="postPage_meta__Yk8Cm"><time>9/11/2025</time><ul><li>etc</li></ul></div><div class="postPage_contents__3OW6N markdown"><p>개발을 진행하면서 테스트는 반드시 필요한 작업 중 하나라고 생각합니다. (TDD든 뭐든.)<br/>
<!-- -->업무 상 가장 많이 사용하고 앞으로도 사용할 것 같은 Google Test를 정리하고자 합니다.</p>
<p>Google Test(이하 gtest)에서는 일반적으로 세 가지 방법의 테스트 케이스 작성 방식을 제공합니다.</p>
<ul>
<li>TEST</li>
<li>TEST_F</li>
<li>TEST_P</li>
</ul>
<p>이 세 가지 방식에 대해 정리했습니다.</p>
<h2>TEST</h2>
<pre><code class="language-cpp">TEST(TestSuiteName, TestName)
</code></pre>
<p>가장 기본적인 테스트 방식입니다.<br/>
<!-- -->독립적으로 동작하는 테스트를 작성할 수 있습니다.</p>
<p>공통 모듈에 대한 테스트 보다는 독립적으로 하나의 함수 또는 단순 입출력과 같은 테스트에 적합합니다.</p>
<h3>Example</h3>
<pre><code class="language-cpp">TEST(MathTest, Plus) {
    EXPECT_EQ(1 + 1, 2);
}

TEST(MathTest, Equal) {
    ASSERT_TRUE(1 == 1);
}
</code></pre>
<h2>TEST_F</h2>
<pre><code class="language-cpp">TEST_F(TestFixtureName, TestName)
</code></pre>
<p>TEST_F는 TEST처럼 단일 테스트도 가능하지만<br/>
<!-- -->공통 환경(Fixture)을 사용해야 하는 테스트에 사용할 수 있습니다.</p>
<p><code>::testing::Test</code>를 상속한 클래스를 사용해야 하며,<br/>
<code>SetUp</code>/<code>TearDown</code>과 같은 함수를 사용하여 동일한 환경 설정 및 리소스 사용이 가능합니다.</p>
<h3>Example</h3>
<pre><code class="language-cpp">class TestFixture : public ::testing::Test
{
protected:
    void SetUp() override
    {
        std::cout &lt;&lt; &quot;테스트 시작 전&quot; &lt;&lt; std::endl;
    }

    void TearDown() override
    {
        std::cout &lt;&lt; &quot;테스트 종료 후&quot; &lt;&lt; std::endl;
    }

    int sum(int a, int b)
    {
        return a + b;
    }
};

TEST_F(TestFixture, TestCaseName)
{
    int num = 0;

    num = sum(2, 3);
    EXPECT_EQ(num, 5);
}
</code></pre>
<h2>TEST_P</h2>
<pre><code class="language-cpp">TEST_P(TestFixtureName, TestName)
</code></pre>
<p>TEST_P도 TEST처럼 단일 테스트도 가능합니다.<br/>
<!-- -->하지만 같은 기능을 여러 입력 값으로 테스트 하려는 경우에 사용할 수 있습니다.</p>
<p><code>::testing::TestWithParam&lt;T&gt;</code>를 상속한 클래스를 사용해야 하며,
테스트를 만들어도 <code>INSTANTIATE_TEST_SUITE_P</code>를 통해 파라미터를 주지 않으면 동작하지 않습니다.<br/>
<!-- -->또한 내부적으로 <code>GetParam</code> 함수를 통해 파라미터를 받아 테스트를 수행합니다.</p>
<h3>Example</h3>
<pre><code class="language-cpp">struct TestParam
{
    int num1;
    int num2;
    int result;
    std::string str;
};

class TestFixture : public ::testing::TestWithParam&lt;TestParam&gt;
{
protected:
    void SetUp() override
    {
        std::cout &lt;&lt; &quot;테스트 시작 전&quot; &lt;&lt; std::endl;
    }

    void TearDown() override
    {
        std::cout &lt;&lt; &quot;테스트 종료 후&quot; &lt;&lt; std::endl;
    }
};

TEST_P(TestFixture, TestCaseName)
{
    TestParam param = GetParam();

    std::cout &lt;&lt; param.str &lt;&lt; std::endl;

    EXPECT_EQ(param.num1 + param.num2, param.result);
}

std::vector&lt;TestParam&gt; TestGroup = {
    {1, 1, 2, &quot;Test 1&quot;},
    {1, 2, 3, &quot;Test 2&quot;},
    {4, 5, 9, &quot;Test 3&quot;},
};

INSTANTIATE_TEST_SUITE_P(TestPrefix, TestFixture, ::testing::ValuesIn(TestGroup));
</code></pre>
<h2>INSTANTIATE_TEST_SUITE_P</h2>
<pre><code class="language-cpp">INSTANTIATE_TEST_SUITE_P(InstantiationName, TestSuiteName, param_generator);
INSTANTIATE_TEST_SUITE_P(InstantiationName, TestSuiteName, param_generator, name_generator);
</code></pre>
<p><code>INSTANTIATE_TEST_SUITE_P</code>는 이름에서 유추할 수 있듯 TEST_P로 만들어진 테스트를 인스턴스화하는 매크로입니다.</p>
<ul>
<li>InstantiationName : Prefix이며 빈 문자도 가능합니다.</li>
<li>TestSuiteName : TEST_P에서 정의된 테스트 스위트(클래스)입니다.</li>
<li>param_generator : 파라미터를 생성하는 부분입니다.</li>
<li>name_generator : 옵션 값이며, 테스트의 이름을 만드는 suffix입니다.</li>
</ul>
<p>만들어진 테스트 케이스는 &quot;InstantiationName/TestSuiteName/TestName/Index&quot; 형태로 만들어집니다.<br/>
<!-- -->여기서 Index는 name_generator를 사용할 경우 해당 이름으로 지정됩니다.</p>
<h3>param_generator</h3>
<p>파라미터를 생성하는 부분은 아래와 같이 나뉜다고 한다. (다 써보지는 않음)</p>
<table><thead><tr><th style="text-align:left">Generator</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">Range(begin, end [, step])</td><td style="text-align:left">begin, end 구간 값</td></tr><tr><td style="text-align:left">Values(v1, .., vN)</td><td style="text-align:left">지정된 값들</td></tr><tr><td style="text-align:left">ValuesIn(container) / ValuesIn(begin, end)</td><td style="text-align:left">컨테이너 값 또는 범위 값</td></tr><tr><td style="text-align:left">Bool()</td><td style="text-align:left">false, true 값</td></tr><tr><td style="text-align:left">Combine(g1, .., gN)</td><td style="text-align:left">지정된 값들의 모든 조합을 <code>std::tuple</code>형태로 제공</td></tr><tr><td style="text-align:left">ConvertGenerator&lt;T&gt;(g)</td><td style="text-align:left">중간 변환 어댑터 개념</td></tr></tbody></table>
<ul>
<li>여기서 ConvertGenerator는 아직 사용해보지 않았습니다.</li>
</ul>
<h3>name_generator</h3>
<p>말 그대로 이름을 생성하는 부분입니다.<br/>
<!-- -->생략하게 되면 기본적으로 Index가 붙습니다. (0, 1, 2, ...)</p>
<p><code>std::string(const testing::TestParamInfo&lt;ParamType&gt;&amp;)</code>의 형태를 사용해야 합니다.<br/>
<!-- -->테스트 코드에서 GetParam으로 얻는 값은 <code>info.param</code>으로 접근이 가능합니다.</p>
<pre><code class="language-cpp">// 람다를 사용한 방식
INSTANTIATE_TEST_SUITE_P(
    MyInstantiation, MyTestSuite,
    testing::Values(...),
    [](const testing::TestParamInfo&lt;MyTestSuite::ParamType&gt;&amp; info) {
      // Can use info.param here to generate the test suffix
      std::string name = ...
      return name;
    });
</code></pre>
<ul>
<li>중요한 것은 공백이나 금지 문자를 포함해서는 안된다는 점입니다.</li>
<li><code>std::string</code>이나 C문자열은 사용하지 않습니다. (금지 문자 포함)</li>
</ul>
<p>아래와 같이 사용할 수도 있습니다.</p>
<pre><code class="language-cpp">std::string PrintTestName(const testing::TestParamInfo&lt;TestParam&gt;&amp; info) {
    return info.param.str + std::to_string(info.param.result);
}
</code></pre>
<p>| 참고 <a href="https://google.github.io/googletest/reference/testing.html">Testing Reference</a></p></div></article></div></div></main><footer class="footer_global__eUE2U"><p class="footer_copyright__Uzpxs">© <span></span> Goomba&#x27;s github blog. All Rights Reserved.</p></footer><button class="scrollbutton_scrollToTop__zwz9_">↑</button><script src="/_next/static/chunks/webpack-c4387b2db76461d4.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/8954693455eacdc6.css\",\"style\"]\n3:HL[\"/_next/static/css/8b64ed14234c99bc.css\",\"style\"]\n4:HL[\"/_next/static/css/ef46db3751d8e999.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"5:I[2846,[],\"\"]\n8:I[4707,[],\"\"]\nb:I[6423,[],\"\"]\nc:I[2972,[\"972\",\"static/chunks/972-131d28f88c979dc2.js\",\"252\",\"static/chunks/app/(route)/archive/%5Bcategory%5D/page-3f3963f26c19df09.js\"],\"\"]\n11:I[1165,[\"972\",\"static/chunks/972-131d28f88c979dc2.js\",\"185\",\"static/chunks/app/layout-508d68cd58c3e92a.js\"],\"default\"]\n13:I[1060,[],\"\"]\n9:[\"category\",\"etc\",\"d\"]\na:[\"slug\",\"generic_gtest_case\",\"d\"]\nd:{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"}\ne:{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"}\nf:{\"display\":\"inline-block\"}\n10:{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0}\n14:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L5\",null,{\"buildId\":\"i_ripGfEdpykjEq5ORROa\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"archive\",\"etc\",\"generic_gtest_case\"],\"initialTree\":[\"\",{\"children\":[\"(route)\",{\"children\":[\"archive\",{\"children\":[[\"category\",\"etc\",\"d\"],{\"children\":[[\"slug\",\"generic_gtest_case\",\"d\"],{\"children\":[\"__PAGE__?{\\\"category\\\":\\\"etc\\\",\\\"slug\\\":\\\"generic_gtest_case\\\"}\",{}]}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"(route)\",{\"children\":[\"archive\",{\"children\":[[\"category\",\"etc\",\"d\"],{\"children\":[[\"slug\",\"generic_gtest_case\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L6\",\"$L7\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ef46db3751d8e999.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]],null],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(route)\",\"children\",\"archive\",\"children\",\"$9\",\"children\",\"$a\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(route)\",\"children\",\"archive\",\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/8b64ed14234c99bc.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"sublayout_layout__AH4re\",\"children\":[[\"$\",\"div\",null,{\"className\":\"sublayout_sidebar__lw1oC\",\"children\":[\"$\",\"aside\",null,{\"className\":\"sidebar_sidebar__A9Lnm\",\"children\":[[\"$\",\"div\",\"Programming\",{\"className\":\"sidebar_sidebarSection__PxRiE\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"sidebar_sidebarTitle__0wfLW\",\"children\":\"Programming\"}],[\"$\",\"ul\",null,{\"className\":\"sidebar_sidebarList__fMWCO\",\"children\":[[\"$\",\"li\",\"cpp\",{\"className\":\"sidebar_sidebarItem__2RyXS\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/archive/cpp\",\"children\":\"C/C++\"}]}],[\"$\",\"li\",\"stl\",{\"className\":\"sidebar_sidebarItem__2RyXS\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/archive/stl\",\"children\":\"STL\"}]}],[\"$\",\"li\",\"algorithm\",{\"className\":\"sidebar_sidebarItem__2RyXS\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/archive/algorithm\",\"children\":\"Algorithm\"}]}]]}]]}],[\"$\",\"div\",\"Security\",{\"className\":\"sidebar_sidebarSection__PxRiE\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"sidebar_sidebarTitle__0wfLW\",\"children\":\"Security\"}],[\"$\",\"ul\",null,{\"className\":\"sidebar_sidebarList__fMWCO\",\"children\":[[\"$\",\"li\",\"crypto\",{\"className\":\"sidebar_sidebarItem__2RyXS\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/archive/crypto\",\"children\":\"Cryptography\"}]}],[\"$\",\"li\",\"optee\",{\"className\":\"sidebar_sidebarItem__2RyXS\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/archive/optee\",\"children\":\"OP-TEE\"}]}]]}]]}],[\"$\",\"div\",\"Tools \u0026 Env\",{\"className\":\"sidebar_sidebarSection__PxRiE\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"sidebar_sidebarTitle__0wfLW\",\"children\":\"Tools \u0026 Env\"}],[\"$\",\"ul\",null,{\"className\":\"sidebar_sidebarList__fMWCO\",\"children\":[[\"$\",\"li\",\"git\",{\"className\":\"sidebar_sidebarItem__2RyXS\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/archive/git\",\"children\":\"Git\"}]}],[\"$\",\"li\",\"docker\",{\"className\":\"sidebar_sidebarItem__2RyXS\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/archive/docker\",\"children\":\"Docker\"}]}],[\"$\",\"li\",\"build\",{\"className\":\"sidebar_sidebarItem__2RyXS\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/archive/build\",\"children\":\"Build\"}]}],[\"$\",\"li\",\"etc\",{\"className\":\"sidebar_sidebarItem__2RyXS\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/archive/etc\",\"children\":\"ETC\"}]}]]}]]}]]}]}],[\"$\",\"div\",null,{\"className\":\"sublayout_content__LeFXo\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(route)\",\"children\",\"archive\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]}]]}]],null],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(route)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/8954693455eacdc6.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_f367f3\",\"children\":[[\"$\",\"header\",null,{\"className\":\"header_global__GSqlr\",\"children\":[[\"$\",\"$Lc\",null,{\"href\":\"/\",\"className\":\"header_page_name__AH74f\",\"children\":\"Goomba\"}],[\"$\",\"nav\",null,{\"className\":\"header_nav__TS4hp\",\"children\":[\"$\",\"ul\",null,{\"className\":\"header_list__4_ozN\",\"children\":[[\"$\",\"li\",null,{\"className\":\"header_list_item__xbgaq\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/\",\"className\":\"header_nav_link__q0iPN\",\"children\":\"Profile\"}]}],[\"$\",\"li\",null,{\"className\":\"header_list_item__xbgaq\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/archive\",\"className\":\"header_nav_link__q0iPN\",\"children\":\"Archive\"}]}]]}]}]]}],[\"$\",\"main\",null,{\"className\":\"layout_main__Z_K3S\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$d\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$e\",\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":\"$f\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$10\",\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}],[\"$\",\"footer\",null,{\"className\":\"footer_global__eUE2U\",\"children\":[\"$\",\"p\",null,{\"className\":\"footer_copyright__Uzpxs\",\"children\":[\"© \",[\"$\",\"span\",null,{}],\" Goomba's github blog. All Rights Reserved.\"]}]}],[\"$\",\"$L11\",null,{}]]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L12\"],\"globalErrorComponent\":\"$13\",\"missingSlots\":\"$W14\"}]\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"article\",null,{\"className\":\"postPage_container__Bch1t\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"postPage_title__tBgth\",\"children\":\"[GTest] 일반적인 TEST 방법\"}],[\"$\",\"div\",null,{\"className\":\"postPage_meta__Yk8Cm\",\"children\":[[\"$\",\"time\",null,{\"children\":\"9/11/2025\"}],[\"$\",\"ul\",null,{\"className\":\"$undefined\",\"children\":[[\"$\",\"li\",\"etc\",{\"children\":\"etc\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"postPage_contents__3OW6N markdown\",\"children\":[[\"$\",\"p\",null,{\"children\":[\"개발을 진행하면서 테스트는 반드시 필요한 작업 중 하나라고 생각합니다. (TDD든 뭐든.)\",[\"$\",\"br\",null,{}],\"\\n\",\"업무 상 가장 많이 사용하고 앞으로도 사용할 것 같은 Google Test를 정리하고자 합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Google Test(이하 gtest)에서는 일반적으로 세 가지 방법의 테스트 케이스 작성 방식을 제공합니다.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"TEST\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"TEST_F\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"TEST_P\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이 세 가지 방식에 대해 정리했습니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"TEST\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-cpp\",\"children\":\"TEST(TestSuiteName, TestName)\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"가장 기본적인 테스트 방식입니다.\",[\"$\",\"br\",null,{}],\"\\n\",\"독립적으로 동작하는 테스트를 작성할 수 있습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"공통 모듈에 대한 테스트 보다는 독립적으로 하나의 함수 또는 단순 입출력과 같은 테스트에 적합합니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Example\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-cpp\",\"children\":\"TEST(MathTest, Plus) {\\n    EXPECT_EQ(1 + 1, 2);\\n}\\n\\nTEST(MathTest, Equal) {\\n    ASSERT_TRUE(1 == 1);\\n}\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"TEST_F\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-cpp\",\"children\":\"TEST_F(TestFixtureName, TestName)\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"TEST_F는 TEST처럼 단일 테스트도 가능하지만\",[\"$\",\"br\",null,{}],\"\\n\",\"공통 환경(Fixture)을 사용해야 하는 테스트에 사용할 수 있습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"::testing::Test\"}],\"를 상속한 클래스를 사용해야 하며,\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"code\",null,{\"children\":\"SetUp\"}],\"/\",[\"$\",\"code\",null,{\"children\":\"TearDown\"}],\"과 같은 함수를 사용하여 동일한 환경 설정 및 리소스 사용이 가능합니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Example\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-cpp\",\"children\":\"class TestFixture : public ::testing::Test\\n{\\nprotected:\\n    void SetUp() override\\n    {\\n        std::cout \u003c\u003c \\\"테스트 시작 전\\\" \u003c\u003c std::endl;\\n    }\\n\\n    void TearDown() override\\n    {\\n        std::cout \u003c\u003c \\\"테스트 종료 후\\\" \u003c\u003c std::endl;\\n    }\\n\\n    int sum(int a, int b)\\n    {\\n        return a + b;\\n    }\\n};\\n\\nTEST_F(TestFixture, TestCaseName)\\n{\\n    int num = 0;\\n\\n    num = sum(2, 3);\\n    EXPECT_EQ(num, 5);\\n}\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"TEST_P\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-cpp\",\"children\":\"TEST_P(TestFixtureName, TestName)\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"TEST_P도 TEST처럼 단일 테스트도 가능합니다.\",[\"$\",\"br\",null,{}],\"\\n\",\"하지만 같은 기능을 여러 입력 값으로 테스트 하려는 경우에 사용할 수 있습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"::testing::TestWithParam\u003cT\u003e\"}],\"를 상속한 클래스를 사용해야 하며,\\n테스트를 만들어도 \",[\"$\",\"code\",null,{\"children\":\"INSTANTIATE_TEST_SUITE_P\"}],\"를 통해 파라미터를 주지 않으면 동작하지 않습니다.\",[\"$\",\"br\",null,{}],\"\\n\",\"또한 내부적으로 \",[\"$\",\"code\",null,{\"children\":\"GetParam\"}],\" 함수를 통해 파라미터를 받아 테스트를 수행합니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Example\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-cpp\",\"children\":\"struct TestParam\\n{\\n    int num1;\\n    int num2;\\n    int result;\\n    std::string str;\\n};\\n\\nclass TestFixture : public ::testing::TestWithParam\u003cTestParam\u003e\\n{\\nprotected:\\n    void SetUp() override\\n    {\\n        std::cout \u003c\u003c \\\"테스트 시작 전\\\" \u003c\u003c std::endl;\\n    }\\n\\n    void TearDown() override\\n    {\\n        std::cout \u003c\u003c \\\"테스트 종료 후\\\" \u003c\u003c std::endl;\\n    }\\n};\\n\\nTEST_P(TestFixture, TestCaseName)\\n{\\n    TestParam param = GetParam();\\n\\n    std::cout \u003c\u003c param.str \u003c\u003c std::endl;\\n\\n    EXPECT_EQ(param.num1 + param.num2, param.result);\\n}\\n\\nstd::vector\u003cTestParam\u003e TestGroup = {\\n    {1, 1, 2, \\\"Test 1\\\"},\\n    {1, 2, 3, \\\"Test 2\\\"},\\n    {4, 5, 9, \\\"Test 3\\\"},\\n};\\n\\nINSTANTIATE_TEST_SUITE_P(TestPrefix, TestFixture, ::testing::ValuesIn(TestGroup));\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"INSTANTIATE_TEST_SUITE_P\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-cpp\",\"children\":\"INSTANTIATE_TEST_SUITE_P(InstantiationName, TestSuiteName, param_generator);\\nINSTANTIATE_TEST_SUITE_P(InstantiationName, TestSuiteName, param_generator, name_generator);\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"INSTANTIATE_TEST_SUITE_P\"}],\"는 이름에서 유추할 수 있듯 TEST_P로 만들어진 테스트를 인스턴스화하는 매크로입니다.\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"InstantiationName : Prefix이며 빈 문자도 가능합니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"TestSuiteName : TEST_P에서 정의된 테스트 스위트(클래스)입니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"param_generator : 파라미터를 생성하는 부분입니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"name_generator : 옵션 값이며, 테스트의 이름을 만드는 suffix입니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"만들어진 테스트 케이스는 \\\"InstantiationName/TestSuiteName/TestName/Index\\\" 형태로 만들어집니다.\",[\"$\",\"br\",null,{}],\"\\n\",\"여기서 Index는 name_generator를 사용할 경우 해당 이름으로 지정됩니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"param_generator\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"파라미터를 생성하는 부분은 아래와 같이 나뉜다고 한다. (다 써보지는 않음)\"}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"Generator\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"Description\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"Range(begin, end [, step])\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"begin, end 구간 값\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"Values(v1, .., vN)\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"지정된 값들\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"ValuesIn(container) / ValuesIn(begin, end)\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"컨테이너 값 또는 범위 값\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"Bool()\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"false, true 값\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"Combine(g1, .., gN)\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":[\"지정된 값들의 모든 조합을 \",[\"$\",\"code\",null,{\"children\":\"std::tuple\"}],\"형태로 제공\"]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"ConvertGenerator\u003cT\u003e(g)\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"left\"},\"children\":\"중간 변환 어댑터 개념\"}]]}]]}]]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"여기서 ConvertGenerator는 아직 사용해보지 않았습니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"name_generator\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"말 그대로 이름을 생성하는 부분입니다.\",[\"$\",\"br\",null,{}],\"\\n\",\"생략하게 되면 기본적으로 Index가 붙습니다. (0, 1, 2, ...)\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"std::string(const testing::TestParamInfo\u003cParamType\u003e\u0026)\"}],\"의 형태를 사용해야 합니다.\",[\"$\",\"br\",null,{}],\"\\n\",\"테스트 코드에서 GetParam으로 얻는 값은 \",[\"$\",\"code\",null,{\"children\":\"info.param\"}],\"으로 접근이 가능합니다.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-cpp\",\"children\":\"// 람다를 사용한 방식\\nINSTANTIATE_TEST_SUITE_P(\\n    MyInstantiation, MyTestSuite,\\n    testing::Values(...),\\n    [](const testing::TestParamInfo\u003cMyTestSuite::ParamType\u003e\u0026 info) {\\n      // Can use info.param here to generate the test suffix\\n      std::string name = ...\\n      return name;\\n    });\\n\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"중요한 것은 공백이나 금지 문자를 포함해서는 안된다는 점입니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"std::string\"}],\"이나 C문자열은 사용하지 않습니다. (금지 문자 포함)\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"아래와 같이 사용할 수도 있습니다.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-cpp\",\"children\":\"std::string PrintTestName(const testing::TestParamInfo\u003cTestParam\u003e\u0026 info) {\\n    return info.param.str + std::to_string(info.param.result);\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"| 참고 \",[\"$\",\"a\",null,{\"href\":\"https://google.github.io/googletest/reference/testing.html\",\"children\":\"Testing Reference\"}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Goomba's Pages\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Goomba's Github pages, using NextJS\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n6:null\n"])</script></body></html>